kind: pipeline
type: docker
name: default

steps:
  - name: Run JS Unit Tests
    image: prairielearn/prairielearn
    commands:
      - npm install --silent
      - npm test

  - name: Run Python UI Tests
    image: prairielearn/prairielearn
    services:
      selenium: 
        image: selenium/standalone-chrome\
    commands: 
      - pip install -r requirements.txt --quiet
      - cd tests
      - python -m unittest discover ui -p "*_test.py"